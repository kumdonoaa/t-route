---
#initial input parameters
log_parameters:
    showtiming: true
    log_level: DEBUG
network_topology_parameters:
    supernetwork_parameters:
        title_string: Lower Colorado, open-loop
        geo_file_path: /glade/scratch/adamw/CONUS_1yr/domain/RouteLink_NWMv2.1.nc
        mask_file_path: /glade/scratch/adamw/CONUS_1yr/masks/LowerColorado_hybrid.txt
        break_network_at_gages: False
    waterbody_parameters:
        break_network_at_waterbodies: true 
        level_pool:
            level_pool_waterbody_parameter_file_path: /glade/scratch/adamw/CONUS_1yr/domain/LAKEPARM_NWMv2.1.nc
        rfc:
            reservoir_parameter_file: /glade/work/adamw/CONUS/DOMAIN/reservoir_index_AnA.nc 
            reservoir_rfc_forecasts: False
            reservoir_rfc_forecasts_time_series_path: /glade/work/adamw/CONUS/rfc_timeseries
            reservoir_rfc_forecasts_lookback_hours: 48
compute_parameters:
    parallel_compute_method: serial
    compute_kernel: V02-structured
    assume_short_ts: true
    subnetwork_target_size: 5000
    cpu_pool: 12
    restart_parameters:
        start_datetime: "2020-06-01_12:00:00"
        #wrf_hydro_channel_restart_file: /glade/scratch/casali/Coastal_Inland/NWM_Coastal_Run_Data/DA_Simulation/Restart_Files/HYDRO_RST.2020-06-01_00:00_DOMAIN1 channel_restart_202006011200
        lite_channel_restart_file: /glade/scratch/casali/Coastal_Inland/NWM_Coastal_Run_Data/DA_Simulation/Restart_Files/Troute_Restarts/channel_restart_202006011200
        wrf_hydro_channel_ID_crosswalk_file: /glade/scratch/adamw/CONUS_1yr/domain/RouteLink_NWMv2.1.nc
        #wrf_hydro_waterbody_restart_file: /glade/scratch/casali/Coastal_Inland/NWM_Coastal_Run_Data/DA_Simulation/Restart_Files/HYDRO_RST.2020-06-01_00:00_DOMAIN1
        lite_channel_restart_file: /glade/scratch/casali/Coastal_Inland/NWM_Coastal_Run_Data/DA_Simulation/Restart_Files/Troute_Restarts/channel_restart_202006011200
        wrf_hydro_waterbody_ID_crosswalk_file: /glade/scratch/adamw/CONUS_1yr/domain/LAKEPARM_NWMv2.1.nc
        wrf_hydro_waterbody_crosswalk_filter_file: /glade/scratch/adamw/CONUS_1yr/domain/RouteLink_NWMv2.1.nc
    hybrid_parameters:
        run_hybrid_routing: True
        diffusive_domain: domain/diffusive_domain.yaml
        use_natl_xsections: True
        topobathy_domain: domain/diffusive_natural_xs_03312022.nc
        run_refactored_network: True
        refactored_domain: domain/lcra_refactored_diffusive_domain_042122.yaml
        refactored_topobathy_domain: domain/lcra_refac_diffusive_natural_xs_042122.nc        
    forcing_parameters:
        qts_subdivisions: 12
        dt: 300
        qlat_input_folder: /glade/scratch/adamw/CONUS_1yr/forcing
        qlat_file_pattern_filter: "*.CHRTOUT_DOMAIN1"
        #nts: 105120
        nts: 864  #288 #576 #864 #8640 #1152 #576 #8640 
        max_loop_size: 72  #720 #24 #48 72  
        qlat_file_value_col: NULL
    data_assimilation_parameters:
        usgs_timeslices_folder: /glade/scratch/adamw/CONUS_1yr/TimeSlice
        qc_threshold: 0
        wrf_lastobs_type: obs-based
        streamflow_da:
            streamflow_nudging            : False
            diffusive_streamflow_nudging  : False
            gage_segID_crosswalk_file     : /glade/scratch/adamw/CONUS_1yr/domain/RouteLink_NWMv2.1.nc
            crosswalk_gage_field          : 'gages'
            crosswalk_segID_field         : 'link'
            wrf_hydro_lastobs_file        : lastobs/nudgingLastObs.2021-08-23_12:00:00.nc
            lastobs_output_folder         : lastobs/    
output_parameters:
    test_output: output/lower_colorado_test_MConly_noNudging_30d #output/lower_colorado_da_nxec_8days
    chanobs_output:
            chanobs_output_directory: output/
            chanobs_filepath: LowerColorado_chanobs_1yr.nc
        
    #    wrf_hydro_channel_output_source_folder: /glade/scratch/adamw/CONUS_1yr/forcing
    #lite_restart:
    #    lite_restart_output_directory: /glade/scratch/adamw/CONUS_1yr/troute_restarts